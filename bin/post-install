#!/usr/bin/env bash
# Post-Install script called once after the install script

# Here we build the virtual environment. Python 3.4.1 is packaged 
# with this cartridge and, by default, also installs pyvenv and pip
# In addition we save the virtual environment path
echo "Building Virtual Environment"
$PYTHON_DIR/bin/pyvenv $VIRTUAL_ENV_DIR

# We install the default packages placed into requirements.txt
if [ -f $OPENSHIFT_REPO_DIR/requirements.txt ]; then
    source $VIRTUAL_ENV_DIR/bin/activate
    pip install -r $OPENSHIFT_REPO_DIR/requirements.txt
    deactivate
fi
